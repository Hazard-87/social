{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/MyProfile/MyProfile.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/MyPosts/MyPosts.module.css","components/Profile/Posts/Posts.module.css","components/Profile/Posts/Posts.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/MyProfile/ProfileStatus.jsx","components/Profile/MyProfile/ProfileStatusWithHooks.jsx","components/Profile/MyProfile/MyProfile.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","Posts","newCreatePost","createRef","className","classes","post","item","src","message","like","likesCount","newComment","ref","cols","rows","type","placeholder","send","onClick","current","alert","MyPosts","memo","postElements","posts","reverse","map","myPosts","MyPostsReduxForm","onSubmit","values","addPost","newPostBody","maxLength","maxLengthCreator","reduxForm","form","handleSubmit","Field","newPost","component","Textarea","name","validate","required","MyPostsContainer","profilePage","dispatch","addPostAC","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","styles","onChange","e","target","autoFocus","onBlur","updateStatus","MyProfile","profile","photos","content","phone","avatar","small","fullName","aboutMe","href","contacts","facebook","Preloader","Profile","ProfileContainer","userId","match","params","authorizesUserId","getProfile","getStatus","compose","setUserProfile","withRouter"],"mappings":"wNAIIA,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,SAGVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,uKAGnC,OAAIC,KAAKC,MAAMN,OACR,kBAAEG,EAAcE,KAAKC,OADE,kBAAC,IAAD,CAAUC,GAAG,eAHR,GACXC,IAAML,WAQtC,OAD4BM,YAAQX,EAARW,CAAoCL,K,oBCfpEM,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,OAAS,0BAA0B,KAAO,wBAAwB,OAAS,0BAA0B,QAAU,6B,+ECGnJ,SAASC,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKb,EAAII,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAEThB,GAAKM,EAAKW,SAAWjB,GAH8CO,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAmB,EAAA,GAA2BpB,EAAKC,IGLjF,WACb,MAAM,IAAIoB,UAAU,6IHIgF,K,oBIJtGxB,EAAOC,QAAU,CAAC,QAAU,yBAAyB,QAAU,yBAAyB,KAAO,sBAAsB,MAAQ,yB,oBCA7HD,EAAOC,QAAU,CAAC,KAAO,oBAAoB,KAAO,oBAAoB,WAAa,0BAA0B,KAAO,oBAAoB,KAAO,sB,gJC8DlIwB,EA3DD,SAAC7B,GAEX,IAAI8B,EAAgB5B,IAAM6B,YAQ5B,OACI,yBAAKC,UAAWC,IAAQC,MACxB,yBAAKF,UAAWC,IAAQE,MACpB,yBAAKC,IAAI,4EADb,IAC0FpC,EAAMqC,SAE5F,yBAAKL,UAAWC,IAAQK,MACpB,yBAAKF,IAAI,uDACRpC,EAAMuC,YAEX,6BACI,8BAAUP,UAAWC,IAAQO,WAAYC,IAAKX,EAAeY,KAAK,KAAKC,KAAK,IAAIC,KAAK,OAAOC,YAAY,iBAExG,6BACA,4BAAQb,UAAWC,IAAQa,KAAMC,QAnB7B,WACV,IAAIb,EAAOJ,EAAckB,QAAQxB,MACjCyB,MAAMf,GACNJ,EAAckB,QAAQxB,MAAQ,KAgBxB,W,kCClBR0B,EAAUhD,IAAMiD,MAAK,SAAAnD,GACvB,IAAIoD,EAAe,YAAIpD,EAAMqD,OAAOC,UAAUC,KAAI,SAAArB,GAAI,OAAI,kBAAC,EAAD,CAAOG,QAASH,EAAKA,KAAMK,WAAYL,EAAKK,gBAMtG,OACI,6BACI,6BACI,wBAAIP,UAAWC,IAAQuB,SAAvB,YACA,kBAACC,EAAD,CAAkBC,SARb,SAACC,GACd3D,EAAM4D,QAAQD,EAAOE,aACrBF,EAAOE,YAAc,OAQjB,yBAAK7B,UAAWC,IAAQoB,OACnBD,OAMXU,EAAYC,YAAiB,IAgB7BN,EAAmBO,YAAU,CAACC,KAAM,eAAjBD,EAdP,SAAChE,GACf,OACI,0BAAM0D,SAAU1D,EAAMkE,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOnC,UAAWC,IAAQmC,QAASC,UAAWC,IAAUC,KAAM,cACvD1B,YAAa,eAAgB2B,SAAU,CAACC,IAAUX,MAE7D,6BACI,4BAAQ9B,UAAWC,IAAQa,MAA3B,aAQDI,I,QC1BAwB,EAFUvE,aAbH,SAACV,GACnB,MAAO,CACH4D,MAAQ5D,EAAMkF,YAAYtB,UAIT,SAACuB,GACtB,MAAO,CACHhB,QAAS,SAACC,GACNe,EAASC,YAAUhB,QAIN1D,CAA6C+C,G,qBChB1ChD,IAAML,U,gBCiCnBiF,EAjCgB,SAAC9E,GAAW,IAAD,EACR+E,oBAAS,GADD,mBACjCC,EADiC,KACvBC,EADuB,OAEZF,mBAAS/E,EAAMkF,QAFH,mBAEjCA,EAFiC,KAEzBC,EAFyB,KAItCC,qBAAU,WACND,EAAUnF,EAAMkF,UACjB,CAAClF,EAAMkF,SAiBV,OACI,yBAAKlD,UAAWqD,IAAOH,QAClBF,EACK,6BAAK,2BAAOM,SARF,SAACC,GACrBJ,EAAUI,EAAEC,OAAOhE,QAO6BiE,WAAW,EAAMC,OAd1C,WACvBT,GAAY,GAEZjF,EAAM2F,aAAaT,IAW0E1D,MAAO0D,KAC1F,6BAAK,0BAAMnC,QAnBA,WACrBkC,GAAY,KAkBqCjF,EAAMkF,QAAU,YCD1DU,EAvBG,SAAC5F,GACjB,OAAKA,EAAM6F,QAAQC,OAKjB,yBAAK9D,UAAWC,IAAQ8D,SACtB,yBAAK/D,UAAWC,IAAQ+D,QACxB,6BACE,yBAAKhE,UAAWC,IAAQgE,QACtB,yBAAK7D,IAAKpC,EAAM6F,QAAQC,OAAOI,SAEjC,yBAAKlE,UAAWC,IAAQ4D,SACtB,uBAAG7D,UAAWC,IAAQsC,MAAOvE,EAAM6F,QAAQM,UAC3C,kBAAE,EAAF,CAAyBjB,OAAQlF,EAAMkF,OAAQS,aAAc3F,EAAM2F,eACnE,wCAAc3F,EAAM6F,QAAQO,SAC5B,wCAAc,uBAAGC,KAAK,+BAA+BrG,EAAM6F,QAAQS,SAASC,cAd3E,kBAACC,EAAA,EAAD,OCOIC,EAVC,SAACzG,GAEb,OACI,6BACI,kBAAC,EAAD,CAAW6F,QAAS7F,EAAM6F,QAASX,OAAQlF,EAAMkF,OAAQS,aAAc3F,EAAM2F,eAC7E,kBAAC,EAAD,Q,wBCDNe,E,kLAEE,IAAIC,EAAS5G,KAAKC,MAAM4G,MAAMC,OAAOF,OAChCA,IACDA,EAAS5G,KAAKC,MAAM8G,kBAExB/G,KAAKC,MAAM+G,WAAWJ,GACtB5G,KAAKC,MAAMgH,UAAUL,K,+BAIrB,OAAO,kBAAC,EAAD,iBAAa5G,KAAKC,MAAlB,CAAyB6F,QAAS9F,KAAKC,MAAM6F,QAASX,OAAQnF,KAAKC,MAAMkF,OAChES,aAAc5F,KAAKC,MAAM2F,oB,GAZlBzF,IAAML,WAwBtBoH,sBACX9G,aATkB,SAACV,GAAD,MAAY,CAC9BoG,QAASpG,EAAMkF,YAAYkB,QAC3BX,OAAQzF,EAAMkF,YAAYO,OAC1B4B,iBAAkBrH,EAAME,KAAKgH,OAC7BjH,OAAQD,EAAME,KAAKD,UAKM,CAACwH,mBAAgBH,eAAYC,cAAWrB,mBACjEwB,IACAvH,IAHWqH,CAIbP","file":"static/js/4.c02b8ae3.chunk.js","sourcesContent":["import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to='/login'/>\r\n            return < Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let AuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return AuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"phone\":\"MyProfile_phone__1JvIO\",\"avatar\":\"MyProfile_avatar__3x52m\",\"name\":\"MyProfile_name__7gVIp\",\"status\":\"MyProfile_status__wt4Pq\",\"profile\":\"MyProfile_profile__25ME1\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__3sfJ4\",\"newPost\":\"MyPosts_newPost__mrvqT\",\"send\":\"MyPosts_send__2y8y4\",\"posts\":\"MyPosts_posts__3YE1l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Posts_item__2MCBc\",\"like\":\"Posts_like__3KTlK\",\"newComment\":\"Posts_newComment__21DDS\",\"send\":\"Posts_send__3veT_\",\"post\":\"Posts_post__IhN0r\"};","import React from 'react';\r\nimport classes from './Posts.module.css';\r\n\r\n\r\nconst Posts = (props) => {\r\n\r\n    let newCreatePost = React.createRef()\r\n\r\n    let newPost = ()=> {\r\n        let post = newCreatePost.current.value\r\n        alert(post)\r\n        newCreatePost.current.value = ''\r\n    }\r\n\r\n  return (\r\n      <div className={classes.post}>\r\n      <div className={classes.item}>\r\n          <img src='https://www.meme-arsenal.com/memes/ae1d44253a861f53d95864dd37c55a78.jpg'/> {props.message}\r\n      </div>\r\n          <div className={classes.like}>\r\n              <img src='https://img.icons8.com/cotton/2x/facebook-like.png' />\r\n              {props.likesCount}\r\n          </div>\r\n          <div>\r\n              <textarea className={classes.newComment} ref={newCreatePost} cols='50' rows='1' type=\"text\" placeholder='Comments...'></textarea>\r\n              </div>\r\n              <div>\r\n              <button className={classes.send} onClick={newPost}>Send</button>\r\n          </div>\r\n      </div>\r\n  )\r\n}\r\n\r\n// class Posts extends React.Component {\r\n//     newCreatePost = () => {React.createRef()}\r\n//\r\n//     newPost = ()=> {\r\n//         let post = this.newCreatePost.current.value\r\n//         alert(post)\r\n//         this.newCreatePost.current.value = ''\r\n//     }\r\n//\r\n//     render() {\r\n//         return (\r\n//             <div className={classes.post}>\r\n//                 <div className={classes.item}>\r\n//                     <img src='https://www.meme-arsenal.com/memes/ae1d44253a861f53d95864dd37c55a78.jpg'/> {this.props.message}\r\n//                 </div>\r\n//                 <div className={classes.like}>\r\n//                     <img src='https://img.icons8.com/cotton/2x/facebook-like.png' />\r\n//                     {this.props.likesCount}\r\n//                 </div>\r\n//                 <div>\r\n//                     <textarea className={classes.newComment} ref={this.newCreatePost} cols='50' rows='1' type=\"text\" placeholder='Comments...'></textarea>\r\n//                 </div>\r\n//                 <div>\r\n//                     <button className={classes.send} onClick={this.newPost}>Send</button>\r\n//                 </div>\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\nexport default Posts;","import React from 'react';\r\nimport classes from './MyPosts.module.css';\r\nimport Posts from \"../Posts/Posts\";\r\nimport * as form from \"redux-form\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validation/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControl\";\r\n\r\n\r\nconst MyPosts = React.memo(props => {\r\n    let postElements = [...props.posts].reverse().map(post => <Posts message={post.post} likesCount={post.likesCount}/>)\r\n\r\n    let addNewPost = (values) => {\r\n        props.addPost(values.newPostBody)\r\n        values.newPostBody = ''\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h1 className={classes.myPosts}>My posts</h1>\r\n                <MyPostsReduxForm onSubmit={addNewPost}/>\r\n            </div>\r\n            <div className={classes.posts}>\r\n                {postElements}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nconst maxLength = maxLengthCreator(15)\r\n\r\nlet MyPostsForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field className={classes.newPost} component={Textarea} name={'newPostBody'}\r\n                       placeholder={'Your post...'} validate={[required, maxLength]}/>\r\n            </div>\r\n            <div>\r\n                <button className={classes.send}>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst MyPostsReduxForm = reduxForm({form: 'addPostForm'})(MyPostsForm)\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostAC} from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts : state.profilePage.posts\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostBody) => {\r\n            dispatch(addPostAC(newPostBody))\r\n        }\r\n    }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport styles from './MyProfile.module.css';\r\n\r\nclass ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        })\r\n        this.props.updateStatus(this.state.status)\r\n    }\r\n\r\n    onStatusChange = (e) => {\r\n        this.setState({\r\n            status: e.target.value\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.status}>\r\n                {!this.state.editMode\r\n                    ? <div><span onClick={this.activateEditMode}>{this.props.status}</span></div>\r\n                    : <div><input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode}\r\n                                  value={this.state.status}/></div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React, {useEffect, useState} from \"react\";\r\nimport styles from './MyProfile.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const  onStatusChange = (e) => {\r\n        setStatus(e.target.value\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={styles.status}>\r\n            {editMode\r\n                ? <div><input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}/></div>\r\n                : <div><span onClick={activateEditMode}>{props.status || '-----' }</span></div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport classes from './MyProfile.module.css';\r\nimport ProfileStatus from './ProfileStatus';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst MyProfile = (props) => {\r\n  if (!props.profile.photos) {\r\n    return <Preloader/>\r\n  }\r\n\r\n  return (\r\n    <div className={classes.content}>\r\n      <div className={classes.phone}></div>\r\n      <div>\r\n        <div className={classes.avatar}>\r\n          <img src={props.profile.photos.small}/>\r\n        </div>\r\n        <div className={classes.profile}>\r\n          <p className={classes.name}>{props.profile.fullName}</p>\r\n          < ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n          <p>About Me: {props.profile.aboutMe}</p>\r\n          <p >Facebook: <a href='https://ru-ru.facebook.com/'>{props.profile.contacts.facebook}</a></p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyProfile;","import React from 'react';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport MyProfile from \"./MyProfile/MyProfile\";\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <MyProfile profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {getProfile, getStatus, setUserProfile, updateStatus} from \"../../redux/profileReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizesUserId\r\n        }\r\n        this.props.getProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props} profile={this.props.profile} status={this.props.status}\r\n                        updateStatus={this.props.updateStatus}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizesUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {setUserProfile, getProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)"],"sourceRoot":""}